# ページカラーフィルター拡張機能

この拡張機能は、Webページ全体に色調フィルターと明るさ調整を適用することができるChrome拡張機能です。

## 機能

- **色相回転（Hue Rotation）**: 0-360度の範囲でページの色相を調整
- **彩度（Saturation）**: ページの色の鮮やかさを調整
- **明るさ（Brightness）**: ページ全体の明るさを調整
- **コントラスト（Contrast）**: 明暗の差を強調または弱める
- **プリセット**: よく使われる設定の組み合わせをワンクリックで適用
- **プレビュー**: 変更を適用する前に効果を確認
- **リアルタイム適用**: スライダーの動きに合わせて即時にフィルターを適用
- **設定保存**: フィルター設定が自動的に保存され、次回使用時に自動的に読み込まれます

## インストール方法

1. Google Chromeを開き、`chrome://extensions/` にアクセスします
2. 右上の「デベロッパーモード」をオンにします
3. 「パッケージ化されていない拡張機能を読み込む」ボタンをクリックします
4. このディレクトリを選択します

## 使い方

1. 拡張機能をインストール後、任意のWebページを開きます
   - **重要**: `chrome://` で始まるページ（例: chrome://extensions や chrome://settings）では動作しません
   - Googleや他の通常のWebサイトで使用してください
2. ツールバーのアイコンをクリックしてポップアップを表示します
3. スライダーを動かすとリアルタイムで調整が反映されます
4. プリセットボタンをクリックすると即座に設定が適用されます
5. 「フィルターを適用」ボタンで確定することもできます
6. 「リセット」ボタンをクリックすると標準の表示に戻ります

### 注意事項

* Chromeの内部ページ（`chrome://`で始まるURL）ではセキュリティ上の理由からスクリプトが実行できません
* この場合、エラーメッセージが表示されます

## 構成ファイル

- `manifest.json`: 拡張機能の構成情報
- `popup.html`: フィルター調整用のポップアップUI
- `popup.js`: フィルターを適用するロジック
- `images/`: アイコン画像ファイル

## 技術的詳細

この拡張機能は以下の技術を使用しています：

1. **CSSフィルター**
   ```css
   filter: hue-rotate(deg) saturate(%) brightness(%) contrast(%);
   ```
   フィルターはページのHTML要素（documentElement）に直接適用され、全体的な色調とコントラストを変更します。

2. **Chrome Storage API**
   ```javascript
   // 設定を保存
   chrome.storage.sync.set({ filter: currentFilter });
   
   // 設定を読み込む
   chrome.storage.sync.get('filter', function(data) { ... });
   ```
   Chrome Storage APIを使用して設定を保存し、デバイス間で同期します。同期版のストレージを使用しているため、複数のデバイスでも同じ設定が利用できます。